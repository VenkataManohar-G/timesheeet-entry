//@ui5-bundle timesheetentry/Component-preload.js
sap.ui.require.preload({
	"timesheetentry/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","timesheetentry/model/models"],(e,t)=>{"use strict";return e.extend("timesheetentry.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
},
	"timesheetentry/controller/App.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("timesheetentry.controller.App",{onInit(){}})});
},
	"timesheetentry/controller/timesheet_view.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/library","sap/ui/export/library","sap/m/library","sap/m/Dialog","sap/m/Button","sap/m/Text","sap/ui/model/Sorter","sap/ui/model/Filter","sap/m/SearchField","sap/ui/table/Column","sap/m/Column","sap/m/Label","sap/ui/model/type/String","sap/ui/comp/library","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/core/message/Message","sap/ushell/Container","sap/ui/export/Spreadsheet","sap/m/MessageBox"],(e,t,a,s,i,r,n,o,l,d,g,m,u,h,c,p,w,T,D,f,y)=>{"use strict";var v,S,b=[],_=[],M=0,E=0,V=0,I,x,C;var R,k,W,P,F,B,O,H,N,O,j,A,J;var L=t.MessageType,Q=s.DialogType,K=s.ButtonType;var U,z,G,Y,Z,$,q,X,ee,te,ae,se,ie,re;var ne=t.ValueState,oe=a.EdmType;var le=new sap.ui.model.json.JSONModel,de=new sap.ui.model.json.JSONModel;var ge,me;return e.extend("timesheetentry.controller.timesheet_view",{formatWbsElement:function(e){var t,a;if(e){t=e.toString();a=t.padStart(8,"0");return a}},formatStatus:function(e){if(e==="30"){return"Success"}else if(e==="10"){return"Information"}else{return"Error"}},shellDetails:function(){var e;if(sap.ushell&&sap.ushell.Container){var t=sap.ushell.Container.getService("UserInfo");if(t){e=t.getEmail();if(!e){e="rkirlampudi@answerthink.com"}}else{e="rkirlampudi@answerthink.com"}}else{e="rkirlampudi@answerthink.com"}return e},UserDetails:async function(e){te=await this.shellDetails();if(te){this._getuserdetails(te)}},_getuserdetails:function(e){var t=[];var a,s,o;o=new sap.ui.model.Filter("Email","EQ",e);e;t.push(o);var l=new sap.m.BusyDialog({title:"Loading Data",text:"Please wait....."});l.open();W=this.getOwnerComponent().getModel("EmployeeService");W.read("/MyEmployeeData",{filters:t,urlParameters:{$top:999999},success:function(e){var t={};var a=this.getView().byId("id_employee_extid");var s=this.getView().byId("id_wrkid_add");var o=this.getView().byId("id_ccenter_add");var d=this.getView().byId("id_search");var g,m;N=new sap.ui.model.json.JSONModel;var u=this;if(e.results.length!==0){t=e.results;if(t.length!==0){N.setData(e.results);u.getView().setModel(N,"CompanyCodes");a.setText(t[0].PersonWorkAgreementExternalID);X=t[0].PersonWorkAgreement;if(t[0].PersonFullName){g=t[0].PersonWorkAgreement+" ("+t[0].PersonFullName+")";s.setText(g);s.setVisible(true)}else{g=t[0].PersonWorkAgreement;s.setText(g);s.setVisible(true)}if(t[0].CostCenterDescription){m=t[0].CostCenter+" ("+t[0].CostCenterDescription+")";o.setText(m);o.setVisible(true)}else{m=t[0].CostCenter;o.setText(m);o.setVisible(true)}if(t.length===1){ae=t[0].CompanyCode;se=t[0].CompanyCodeName}d.setEnabled(true)}else{this.oReadSuccessMessageDialog=new i({type:Q.Message,title:"Information",state:ne.Warning,content:new n({text:"No Data Found with the Selected Company Code!!..Please try with another"}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){s.setText("");a.setText("");o.setText("");d.setEnabled(false);this.oReadSuccessMessageDialog.close()}.bind(this)})});this.oReadSuccessMessageDialog.open()}}else{this.oReadSuccessMessageDialog=new i({type:Q.Message,title:"Information",state:ne.Warning,content:new n({text:"No Employee Found"}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){s.setText("");a.setText("");o.setText("");d.setEnabled(false);this.oReadSuccessMessageDialog.close()}.bind(this)})});this.oReadSuccessMessageDialog.open()}l.close()}.bind(this),error:function(e){this.oReadErrorMessageDialog=new i({type:Q.Message,title:"Error",state:ne.Error,content:new n({text:""+e+""}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){this.oReadErrorMessageDialog.close()}.bind(this)})});this.oReadErrorMessageDialog.open();l.close()}.bind(this)})},onInit(){var e=this;this.UserDetails();R=this.getOwnerComponent().getModel();F=this.getOwnerComponent().getModel("TaskTypeService");B=this.getOwnerComponent().getModel("TimesheetService");e.getView().setModel(F,"Tasks");O=this.getOwnerComponent().getModel("TemplateJSONData");e.getView().setModel(O,"Template");j=new sap.ui.model.json.JSONModel({start:"",end:""});e.getView().setModel(j,"DateModel");C=this.getOwnerComponent().getModel("configurationModel");this.dateTimePeriod()},dateTimePeriod:function(){var e=new Date;var t=e.getDay();var a=this;if(t===6){var s=new Date(new Date(e).getTime()+5184e5);A=new sap.ui.model.json.JSONModel({start:e,end:new Date(new Date(e).getTime()+5184e5)});A.refresh();a.getView().setModel(A,"DateModel1")}else if(t===5){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(e).getTime()-5184e5),end:e});A.refresh();a.getView().setModel(A,"DateModel1")}else if(t===4){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(e).getTime()-432e6),end:new Date(new Date(e).getTime()+864e5)});A.refresh();a.getView().setModel(A,"DateModel1")}else if(t===3){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(e).getTime()-3456e5),end:new Date(new Date(e).getTime()+1728e5)});A.refresh();a.getView().setModel(A,"DateModel1")}else if(t===2){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(e).getTime()-2592e5),end:new Date(new Date(e).getTime()+2592e5)});A.refresh();a.getView().setModel(A,"DateModel1")}else if(t===1){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(e).getTime()-1728e5),end:new Date(new Date(e).getTime()+3456e5)});A.refresh();a.getView().setModel(A,"DateModel1")}else if(t===0){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(e).getTime()-864e5),end:new Date(new Date(e).getTime()+432e6)});A.refresh();a.getView().setModel(A,"DateModel1")}},_datediff:function(e,t){const a=1e3*60*60*24;const s=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());const i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((i-s)/a)},handleDateChange:function(e){var t=this.getView().byId("id_search");var a=[],s=e.getParameter("from"),i=e.getParameter("to"),r=e.getParameter("value"),n=e.getParameter("valid"),o=e.getSource();if(n){o.setValueState(ne.None);a=r.split("â€“");if(a.length>1){I=a[0].trim();x=a[1].trim();var l=this._datediff(s,i);if(l>60){o.setValueState(ne.Error);o.setValueStateText("Date Range shouldn't exceed more than 60 days");t.setEnabled(false)}else{o.setValueState(ne.None);o.setValueStateText("");t.setEnabled(true)}}else{I=a[0].trim();x=a[0].trim();t.setEnabled(true)}}else{o.setValueState(ne.Error);o.setValueStateText("Invalid Date");t.setEnabled(false)}},onFilter:function(e){var t=this.getView().byId("id_employee_extid");var a=t.getText();var s=I;var o=x;if(a===""||s===undefined||o===undefined||s===""||o===""){this.oFillMessageDialog=new i({type:Q.Message,title:"Error",state:ne.Error,content:new n({text:"Employee Id & Date are Mandatory"}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){this.oFillMessageDialog.close()}.bind(this)})});this.oFillMessageDialog.open()}else{this._bindtimesheet(a,s,o)}},_bindtimesheet:function(e,t,a){var s=[];var i,r,n,o,l,d,g;r=this;i=new sap.ui.model.json.JSONModel;o=new sap.ui.model.Filter("PersonWorkAgreementExternalID","EQ",e);s.push(o);if(t&&a){var m=t+"T00:00:00Z";var u=a+"T23:59:59Z";var h=new sap.ui.model.Filter("TimeSheetDate","BT",m,u);s.push(h)}else if(t){var c=t+"T00:00:00Z";var u=t+"T23:59:59Z";var h=new sap.ui.model.Filter("TimeSheetDate","BT",c,u);s.push(h)}var p=new sap.m.BusyDialog({title:"Loading Data",text:"Please wait....."});p.open();R.read("/MyTimesheetDetails",{filters:s,urlParameters:{$top:999999},success:function(e){var t;console.log(e);console.log(e.results);i.setData(e.results);r.getView().setModel(i,"Timesheet");p.close()}.bind(this),error:function(e){console.log(e);p.close()}.bind(this)})},onUpdateFinished:function(){var e=this.getView().byId("daysTable");var t=e.getItems();for(var a=0;a<t.length;a++){if(t[a].getCells()[17].getText()==="60"){t[a].getMultiSelectControl(true).setEditable(false)}else{t[a].getMultiSelectControl(true).setEditable(true)}}},onSelectionChange:function(e){var t=e.getSource();var a=t.getSelectedItems();var s=a.length;var i=this.getView().byId("id_button_cancel");var r=false;if(s>0){try{i.setEnabled(true);a.forEach(function(e,t){var a=e.getCells()[17].getText();if(a==="60"){r=true;throw"Already deleted"}})}catch(e){i.setEnabled(false)}}else{i.setEnabled(false)}},onAdd:function(e){var t=this;v=this.byId("id_dialogaddentries");k=new sap.ui.model.json.JSONModel;for(S=0;S<=4;S++){var a={};a.Id=S;a.TimesheetDate="";a.TaskType="";a.WBSElemt="";a.RecordedHours="0";a.RecordedQuantity="0";b.push(a)}k.setData(b);t.getView().setModel(k,"Entries");k.refresh(true);if(!v){v=new sap.ui.xmlfragment(this.getView().getId(),"timesheetentry.view.AddTimesheetEntries",this);this.getView().addDependent(v);v.open();var s=this.getView().byId("id_add_employee_extid");var i=this.getView().byId("id_add_wrkid");var r=this.getView().byId("id_add_ccode");s.setText(this.getView().byId("id_employee_extid").getText());i.setText(this.getView().byId("id_wrkid_add").getText());if(ae){r.setSelectedKey(ae)}if(se){r.setValue(se)}}else{v.open();var s=this.getView().byId("id_add_employee_extid");var i=this.getView().byId("id_add_wrkid");var r=this.getView().byId("id_add_ccode");s.setText(this.getView().byId("id_employee_extid").getText());i.setText(this.getView().byId("id_wrkid_add").getText());if(ae){r.setSelectedKey(ae)}if(se){r.setValue(se)}}},onAddEntry:function(e){var t=this;var a={};S=S+1;a.Id=S;a.TimesheetDate="";a.TaskType="";a.WBSElemt="";a.RecordedHours="0";a.RecordedQuantity="0";b.push(a);k.setData(b);t.getView().setModel(k,"Entries");k.refresh(true)},deleteRow:function(e){var t;t=this;var a=e.getParameter("listItem");var s=a.getCells();var i=s[0].getValue();var r=i*1;const n=b.findIndex(e=>e.Id===r);if(n!==-1){b.splice(n,1);k.setData(b);t.getView().setModel(k,"Entries");k.refresh(true)}var o=this.getView().byId("tableId1");o.removeItem(e.getParameter("listItem"))},onCloseDialog:function(){var e;e=this;b=[];M=0;k.setData(b);e.getView().setModel(k,"Entries");k.refresh(true);sap.ui.getCore().getMessageManager().removeAllMessages();this.getView().byId("id_dialogaddentries").close();this.getView().byId("id_add_entrysave").setEnabled(false);this.getView().byId("id_add_entry_submit").setEnabled(false);this.getView().byId("id_add_entrytemplate").setEnabled(false);this.getView().byId("id_templatecombo").setSelectedKey("")},handleDateChangeadd_entries:function(e){var t=this.getView().byId("id_add_entrysave");var a=this.getView().byId("id_add_entry_submit");var s=this.getView().byId("id_add_entrytemplate");var i=this;var r=[],n=e.getParameter("from"),o=e.getParameter("to"),l=e.getParameter("value"),d=e.getParameter("valid"),g=e.getSource();if(d){g.setValueState(ne.None);r=l.split("â€“");if(r.length>1){I=r[0].trim();x=r[1].trim();var m=this._datediff(n,o);if(m>6){g.setValueState(ne.Error);g.setValueStateText("Date Range should be with in 7 days");t.setEnabled(false);a.setEnabled(false);s.setEnabled(true)}else{if(m===6){var u=new Date(I);var h=u.getDay();var c=new Date(x);var c=c.getDay();if(h!==6&&c!==5){g.setValueState(ne.Error);g.setValueStateText("Date Range should start Week Days(Saturday - Friday)");t.setEnabled(false);a.setEnabled(false);s.setEnabled(true)}}else if(m<=5){var u=new Date(I);var h=u.getDay();if(h===6){A=new sap.ui.model.json.JSONModel({start:u,end:new Date(new Date(u).getTime()+5184e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===5){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-5184e5),end:u});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===4){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-432e6),end:new Date(new Date(u).getTime()+864e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===3){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-3456e5),end:new Date(new Date(u).getTime()+1728e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===2){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-2592e5),end:new Date(new Date(u).getTime()+2592e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===1){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-1728e5),end:new Date(new Date(u).getTime()+3456e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===0){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-864e5),end:new Date(new Date(u).getTime()+432e6)});A.refresh();i.getView().setModel(A,"DateModel1")}}else{g.setValueState(ne.None);g.setValueStateText("");t.setEnabled(false);a.setEnabled(false);s.setEnabled(false)}}}else{I=r[0].trim();x=r[0].trim();var u=new Date(I);var h=u.getDay();if(h===6){A=new sap.ui.model.json.JSONModel({start:u,end:new Date(new Date(u).getTime()+5184e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===5){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-5184e5),end:u});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===4){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-432e6),end:new Date(new Date(u).getTime()+864e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===3){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-3456e5),end:new Date(new Date(u).getTime()+1728e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===2){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-2592e5),end:new Date(new Date(u).getTime()+2592e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===1){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-1728e5),end:new Date(new Date(u).getTime()+3456e5)});A.refresh();i.getView().setModel(A,"DateModel1")}else if(h===0){A=new sap.ui.model.json.JSONModel({start:new Date(new Date(u).getTime()-864e5),end:new Date(new Date(u).getTime()+432e6)});A.refresh();i.getView().setModel(A,"DateModel1")}t.setEnabled(true);a.setEnabled(true)}}else{g.setValueState(ne.Error);g.setValueStateText("Invalid Date");t.setEnabled(false);a.setEnabled(false)}},adddatechange:function(e){var t=e.getSource();var a=t.getValue();var s=new Date(a);var i=this.getView().byId("id_add_entrysave");var r=this.getView().byId("id_add_entry_submit");var n=this.getView().byId("id_add_entrytemplate");var o=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var l=this.getView().getModel("DateModel1").getProperty("/");var d=o.format(l.start);var g=o.format(l.end);var m=o.format(s);if(m>=d&&m<=g){t.setValueState(ne.None);t.setValueStateText("");i.setEnabled(true);r.setEnabled(true);n.setEnabled(true)}else{t.setValueState(ne.Error);t.setValueStateText("Date should be in the selected Time Period");i.setEnabled(false);r.setEnabled(false);n.setEnabled(false)}},taskChange:function(e){var t=this.getView().byId("id_add_entrysave");var a=this.getView().byId("id_add_entry_submit");var s=this.getView().byId("id_add_entrytemplate");var i=e.getSource(),r=i.getSelectedKey(),n=i.getValue();if(!r&&n){i.setValueState(ne.Error);i.setValueStateText("Please enter a valid Task Type");t.setEnabled(false);a.setEnabled(false);s.setEnabled(false)}else{i.setValueState(ne.None);t.setEnabled(true);a.setEnabled(true);s.setEnabled(true)}},wbsChange:function(e){var t=this.getView().byId("id_add_entrysave");var a=this.getView().byId("id_add_entry_submit");var s=this.getView().byId("id_add_entrytemplate");var i=e.getSource(),r=i.getSelectedKey(),n=i.getValue();if(!r&&n){i.setValueState(ne.Error);i.setValueStateText("Please enter a valid WBS Element");t.setEnabled(false);a.setEnabled(false);s.setEnabled(false)}else{i.setValueState(ne.None);t.setEnabled(true);a.setEnabled(true);s.setEnabled(true)}},getWbsElement:function(e,t,a){var s=[];var i=this;var r,n,o;var l,d;var g=new Date(t);l=g.getFullYear();d=g.getMonth()+1;var m=d.toString();var u=m.padStart(3,"0");P=this.getOwnerComponent().getModel("WbsElementService");J=new sap.ui.model.json.JSONModel;if(a===true){r=new sap.ui.model.Filter("PersonExternalID","EQ",e);s.push(r)}n=new sap.ui.model.Filter("FiscalYear","EQ",l);s.push(n);o=new sap.ui.model.Filter("FiscalPeriod","EQ",u);s.push(o);z=new sap.m.BusyDialog({title:"Loading Data",text:"Please wait....."});z.open();P.read("/MyWbsElement",{filters:s,urlParameters:{$top:999999},success:function(e){if(e.results.length!==0){J.setData(e.results);i.getView().setModel(J,"ResourceWbs");i._setwbsDialog()}else{y.warning("No Wbs Element Data Found. Please try with another Date..");z.close()}}.bind(this),error:function(e){z.close()}.bind(this)})},onAddWbsVH:function(e){$=e.getSource();var t;var a=e.getSource().getParent().getCells()[1].getValue();var s=this.getView().byId("id_employee_extid").getText();if(C.oData.configFile[0].WbsElementEmployee===true){t=true}else{t=false}console.log(C);this.getWbsElement(s,a,t)},_setwbsDialog:function(){this._oBasicSearchFieldWithSuggestionsWbs=new d;this.pDialogWithSuggestionsWbs=this.loadFragment({name:"timesheetentry.view.WbsVH"}).then(function(e){var t=e.getFilterBar(),a,s,i,r,o,l,d,m,c,p,w;this._oVHDWithSuggestionsWbs=e;this.getView().addDependent(e);e.setRangeKeyFields([{label:"Engagement Project",key:"EngagementProject",type:"string",typeInstance:new h({},{maxLength:20})}]);t.setFilterBarExpanded(false);t.setBasicSearch(this._oBasicSearchFieldWithSuggestionsWbs);this._oBasicSearchFieldWithSuggestionsWbs.attachSearch(function(){t.search()});e.getTableAsync().then(function(t){if(t.bindRows){t.bindAggregation("rows",{path:"ResourceWbs>/",events:{dataReceived:function(){e.update()}}});a=new g({label:new u({text:"Engagement Project"}),template:new n({wrapping:false,text:"{ResourceWbs>EngagementProject}"})});a.data({fieldName:"EngagementProject"});t.addColumn(a);s=new g({label:new u({text:"Engagement Project Name"}),template:new n({wrapping:false,text:"{ResourceWbs>EngagementProjectName}"})});s.data({fieldName:"EngagementProjectName"});t.addColumn(s);i=new g({label:new u({text:"Work Package"}),template:new n({wrapping:false,text:"{ResourceWbs>WorkPackage}"})});i.data({fieldName:"WorkPackage"});t.addColumn(i);r=new g({label:new u({text:"Work Package Name"}),template:new n({wrapping:false,text:"{ResourceWbs>WorkPackageName}"})});r.data({fieldName:"WorkPackageName"});t.addColumn(r);o=new g({label:new u({text:"Work Package InternalId"}),template:new n({wrapping:false,text:"{ResourceWbs>WBSElementInternalID}"})});o.data({fieldName:"WBSElementInternalID"});t.addColumn(o);l=new g({label:new u({text:"Project Resource Type"}),template:new n({wrapping:false,text:"{ResourceWbs>EngagementProjectResourceType}"})});l.data({fieldName:"EngagementProjectResourceType"});t.addColumn(l);d=new g({label:new u({text:"Project Resource Text"}),template:new n({wrapping:false,text:"{ResourceWbs>EngagementProjResourceTypeText}"})});d.data({fieldName:"EngagementProjResourceTypeText"});t.addColumn(d);m=new g({label:new u({text:"Project Resource"}),template:new n({wrapping:false,text:"{ResourceWbs>EngagementProjectResource}"})});m.data({fieldName:"EngagementProjectResource"});t.addColumn(m);c=new g({label:new u({text:"Project Resource Text"}),template:new n({wrapping:false,text:"{ResourceWbs>EngagementProjResourceText}"})});c.data({fieldName:"EngagementProjResourceText"});t.addColumn(c);p=new g({label:new u({text:"Startdate"}),template:new n({wrapping:false,text:"{ResourceWbs>WorkPackageStartDate}"})});p.data({fieldName:"WorkPackageStartDate"});t.addColumn(p);w=new g({label:new u({text:"Enddate"}),template:new n({wrapping:false,text:"{ResourceWbs>WorkPackageEndDate}"})});w.data({fieldName:"WorkPackageEndDate"});t.addColumn(w)}}.bind(this));e.open();z.close()}.bind(this))},onValueHelpWbsVHOkPress:function(e){var t=this.getView().byId("id_add_entrysave");var a=this.getView().byId("id_add_entry_submit");var s=this.getView().byId("id_add_entrytemplate");var i=e.getParameter("tokens");if(i.length>0){var r=i[0].getKey();var n=i[0].getAggregation("customData");var o=n[0].getProperty("value");$.setValue(o.WorkPackage+"-"+o.EngagementProjectResource);$.setValueState(ne.None);$.setValueStateText("");t.setEnabled(true);a.setEnabled(true);s.setEnabled(true)}this._oVHDWithSuggestionsWbs.close()},onValueHelpWbsVHCancelPress:function(e){this._oVHDWithSuggestionsWbs.close()},onValueHelpWbsVHAfterClose:function(e){this._oVHDWithSuggestionsWbs.destroy()},onFilterBarWithSuggestionsWbsVHSearch:function(e){var t=this._oBasicSearchFieldWithSuggestionsWbs.getValue(),a=e.getParameter("selectionSet"),s=a.reduce(function(e,t){if(t.getValue()){e.push(new l({path:t.getName(),operator:p.Contains,value1:t.getValue()}))}return e},[]);s.push(new l({filters:[new l({path:"EngagementProject",operator:p.Contains,value1:t})],and:false}));this._filterTableWithSuggestionsWbs(new l({filters:s,and:true}))},_filterTableWithSuggestionsWbs:function(e){var t=this._oVHDWithSuggestionsWbs;t.getTableAsync().then(function(a){if(a.bindRows){a.getBinding("rows").filter(e)}if(a.bindItems){a.getBinding("items").filter(e)}t.update()})},_entriesValidations:function(e){var t=this.byId("id_add_employee_extid");var a=this.byId("id_add_wrkid");var s=this.byId("id_add_ccode");var i;var r=s.getSelectedKey();var n=t.getText();var o=a.getText();i=false;if(r==""||r==null){i=true}if(n==""||n==null){i=true}if(o==""||o==null){i=true}if(i===false){for(let t=0;t<e.length;t++){if(i===false){if((e[t].TimesheetDate==null||e[t].TimesheetDate=="")&&(e[t].RecordedHours==null||e[t].RecordedHours==""||e[t].RecordedHours=="0")&&(e[t].TaskType==null&&e[t].WBSElemt==null||e[t].TaskType==""&&e[t].WBSElemt=="")){i=false}else{if(e[t].TimesheetDate==null||e[t].TimesheetDate==""){i=true}if(e[t].RecordedHours==null||e[t].RecordedHours==""){i=true}if(e[t].TaskType==null||e[t].TaskType==""){if(e[t].WBSElemt==null||e[t].WBSElemt==""){i=true}}}}}}return i},onsubmitDialog:async function(){var e;e=this;var t=e.getView();U=new sap.m.BusyDialog({title:"Saving",text:"Please wait....."});U.open();var a=[];var s=[];var i=this.byId("id_alert");var r=sap.ui.getCore().getMessageManager();t.setModel(r.getMessageModel(),"message");sap.ui.getCore().getMessageManager().removeAllMessages();var n=this.byId("id_add_employee_extid");var o=this.byId("id_add_wrkid");var l=this.byId("id_add_ccode");var d=this.byId("id_add_ccenter");var g=this.getView().byId("tableId1");var m=g.getBinding("items");a=m.oList;var u=this.getOwnerComponent().getModel();var h=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var c=this._entriesValidations(a);if(c===false){for(let t=0;t<a.length;t++){if((a[t].TimesheetDate==null||a[t].TimesheetDate=="")&&(a[t].RecordedHours==null||a[t].RecordedHours==""||a[t].RecordedHours=="0")&&(a[t].TaskType==null&&a[t].WBSElemt==null||a[t].TaskType==""&&a[t].WBSElemt=="")){continue}else{var p={};var w=[];M=M+1;p.PersonWorkAgreementExternalID=n.getText();p.PersonWorkAgreement=X;var D=h.format(a[t].TimesheetDate);p.TimeSheetDate=D+"T00:00:00";p.TimeSheetStatus="30";p.TimeSheetOperation="C";p.CompanyCode=this.getView().byId("id_add_ccode").getSelectedKey();p.TimeSheetIsExecutedInTestRun=false;p.TimeSheetIsReleasedOnSave=true;p.TimeSheetDataFields_RecordedHours=a[t].RecordedHours;p.TimeSheetDataFields_RecordedQuantity=a[t].RecordedHours;if(a[t].WBSElemt){w=a[t].WBSElemt.split("-");p.TimeSheetDataFields_WBSElement=w[0];p.TimeSheetDataFields_ActivityType=w[1]}p.TimeSheetDataFields_TimeSheetTaskType=a[t].TaskType;p.TimeSheetDataFields_ReceiverPubSecFuncnlArea="YB40";p.TimeSheetDataFields_HoursUnitOfMeasure="H";if(a[t].TaskType){p.TimeSheetDataFields_TimeSheetTaskComponent="WORK";p.TimeSheetDataFields_TimeSheetTaskLevel="NONE"}else{p.TimeSheetDataFields_TimeSheetTaskComponent="";p.TimeSheetDataFields_TimeSheetTaskLevel=""}s[t]=p;let i=await e._postEntries(B,s[t],t,M)}}le.setData(_);e.getView().setModel(le,"CreateMessageData");le.refresh(true);e._logmessage()}else{var f=new T({message:"Fill all the details- Employee External Id,Person Worker Agreement ID,Company Code,Task Type/WBS Element, Recorded Hours",type:L.Error,target:"/Dummy",processor:this.getView().getModel()});i.setIcon("sap-icon://error");i.setType("Reject");sap.ui.getCore().getMessageManager().addMessages(f);U.close()}},_postEntries:function(e,t,a,s){return new Promise((a,s)=>{e.create("/MyTimesheet",t,{success:function(e,s){E=E+1;if(s.statusCode=="201"){var i={};i.Status="S";i.RecordedHours=t.TimeSheetDataFields_RecordedHours;i.Taskid=t.TimeSheetDataFields_TimeSheetTaskType;i.Wbselement=t.TimeSheetDataFields_WBSElement;i.TimeSheetDate=t.TimeSheetDate;i.Message='Entry successfully created on "'+t.TimeSheetDate+'", with a duration of "'+t.TimeSheetDataFields_RecordedHours+'" hours. ';_.push(i);a(e)}}.bind(this),error:function(e){E=E+1;var a=JSON.parse(e.responseText);var i={};i.Status="E";i.RecordedHours=t.TimeSheetDataFields_RecordedHours;i.Taskid=t.TimeSheetDataFields_TimeSheetTaskType;i.Wbselement=t.TimeSheetDataFields_WBSElement;i.TimeSheetDate=t.TimeSheetDate;i.Message=a.error.message.value;_.push(i);s(e)}.bind(this)})})},_logmessage:function(){re=this.byId("dialogmessageboxcreate");if(!re){re=new sap.ui.xmlfragment(this.getView().getId(),"timesheetentry.view.MessageBox",this);this.getView().addDependent(re);re.open()}else{re.open()}},onmessageboxCloseDialog:function(){var e=this;sap.ui.getCore().getMessageManager().removeAllMessages();E=0;M=0;_=[];le.setData(_);this.getView().setModel(le,"CreateMessageData");le.refresh(true);b=[];k.setData(b);e.getView().setModel(k,"Entries");k.refresh(true);this.byId("dialogmessageboxcreate").close();U.close();this.getView().byId("id_dialogaddentries").close()},ondeleterow:function(e){var t=new sap.m.BusyDialog({title:"Processing Deletion of Record",text:"Please wait....."});t.open();var a=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var s={};var o=this.getOwnerComponent().getModel("TimesheetDeleteService");var l=this.getView().byId("id_employee_extid");var d=e.getSource().getParent();var g=d.getCells();var m=l.getText();var u=X;var h=g[0].getValue();var c=g[9].getText();var p=g[12].getText();var w=g[10].getText();var T=g[13].getText();var D=g[11].getText();var f=g[5].getText();var y=g[5].getText();var v=g[14].getText();var S=g[15].getText();var b=g[16].getText();s.PersonWorkAgreementExternalID=m;s.PersonWorkAgreement=u;var _=new Date(h);var M=a.format(_);s.TimeSheetDate=M+"T00:00:00";s.TimeSheetRecord=c;s.CompanyCode=S;s.TimeSheetOperation="D";s.TimeSheetIsReleasedOnSave=true;s.TimeSheetIsExecutedInTestRun=false;s.TimeSheetDataFields_TimeSheetTaskType=p;s.TimeSheetDataFields_TimeSheetTaskComponent=w;s.TimeSheetDataFields_TimeSheetTaskLevel=T;s.TimeSheetDataFields_ReceiverCostCenter=D;s.TimeSheetDataFields_RecordedHours=f;s.TimeSheetDataFields_RecordedQuantity=y;s.TimeSheetDataFields_ControllingArea=v;s.TimeSheetDataFields_WBSElement=b;s.TimeSheetDataFields_HoursUnitOfMeasure="H";o.create("/MyTimesheetDelete",s,{success:function(e,a){if(a.statusCode=="201"){this.oLogMessageDeleteDialog=new i({type:Q.Message,title:"Information",state:ne.Information,content:new n({text:'"'+c+'"'+" "+"Record deleted Successfully."}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){this.oLogMessageDeleteDialog.close();t.close();this._bindtimesheet(m,I,x)}.bind(this)})});this.oLogMessageDeleteDialog.open()}}.bind(this),error:function(e){var a=JSON.parse(e.responseText);this.oLogMessageDeleteDialogerror=new i({type:Q.Message,title:"Information",state:ne.Information,content:new n({text:'"'+a.error.message.value+'"'}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){this.oLogMessageDeleteDialogerror.close();t.close()}.bind(this)})});this.oLogMessageDeleteDialogerror.open()}.bind(this)})},ondelete:async function(e){G=new sap.m.BusyDialog({title:"Processing Deletion of Records",text:"Please wait....."});G.open();var t=this.getOwnerComponent().getModel("TimesheetDeleteService");var a=[];var s=this;var i=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var r=this.getView().byId("id_employee_extid");var n=this.getView().byId("daysTable");var o=n.getSelectedItems();if(o){for(var l=0;l<o.length;l++){var d={};var g=o[l].getCells();d.PersonWorkAgreementExternalID=r.getText();d.PersonWorkAgreement=X;var m=new Date(g[0].getValue());var u=i.format(m);d.TimeSheetDate=u+"T00:00:00";d.TimeSheetRecord=g[9].getText();d.CompanyCode=g[15].getText();d.TimeSheetOperation="D";d.TimeSheetIsReleasedOnSave=true;d.TimeSheetIsExecutedInTestRun=false;d.TimeSheetDataFields_TimeSheetTaskType=g[12].getText();d.TimeSheetDataFields_TimeSheetTaskComponent=g[10].getText();d.TimeSheetDataFields_TimeSheetTaskLevel=g[13].getText();d.TimeSheetDataFields_ReceiverCostCenter=g[11].getText();d.TimeSheetDataFields_RecordedHours=g[5].getText();d.TimeSheetDataFields_RecordedQuantity=g[5].getText();d.TimeSheetDataFields_ControllingArea=g[14].getText();d.TimeSheetDataFields_WBSElement=g[16].getText();d.TimeSheetDataFields_HoursUnitOfMeasure="H";a[l]=d;let e=await s._deleteallrecords(t,a[l])}s._logmessageError()}},_deleteallrecords:function(e,t){return new Promise((a,s)=>{e.create("/MyTimesheetDelete",t,{success:function(e,t){if(t.statusCode=="201"){a(t)}}.bind(this),error:function(e){var t=JSON.parse(e.responseText);s(t)}.bind(this)})})},_logmessageError:function(){var e=this;var t=this.getView().byId("id_employee_extid");var a=t.getText();this.oLogMessagedeleteAllDialog=new i({type:Q.Message,title:"Information",state:ne.Information,content:new n({text:"Entries Processed for Deletion"}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){V=0;this.oLogMessagedeleteAllDialog.close();G.close();e._bindtimesheet(a,I,x)}.bind(this)})});this.oLogMessagedeleteAllDialog.open()},onsaveDialog:async function(e){var t;t=this;var a=t.getView();U=new sap.m.BusyDialog({title:"Saving",text:"Please wait....."});U.open();var s=[];var i=[];var r=this.byId("id_alert");var n=sap.ui.getCore().getMessageManager();a.setModel(n.getMessageModel(),"message");sap.ui.getCore().getMessageManager().removeAllMessages();var o=this.byId("id_add_employee_extid");var l=this.byId("id_add_wrkid");var d=this.byId("id_add_ccode");var g=this.byId("id_add_ccenter");var m=this.getView().byId("tableId1");var u=m.getBinding("items");s=u.oList;var h=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var c=this._entriesValidations(s);if(c===false){for(let e=0;e<s.length;e++){if((s[e].TimesheetDate==null||s[e].TimesheetDate=="")&&(s[e].RecordedHours==null||s[e].RecordedHours==""||s[e].RecordedHours=="0")&&(s[e].TaskType==null&&s[e].WBSElemt==null||s[e].TaskType==""&&s[e].WBSElemt=="")){continue}else{var p={};var w=[];p.PersonWorkAgreementExternalID=o.getText();p.PersonWorkAgreement=X;var D=h.format(s[e].TimesheetDate);p.TimeSheetDate=D+"T00:00:00";p.TimeSheetStatus="10";p.TimeSheetOperation="C";p.CompanyCode=this.getView().byId("id_add_ccode").getSelectedKey();p.TimeSheetIsExecutedInTestRun=false;p.TimeSheetIsReleasedOnSave=false;p.TimeSheetDataFields_RecordedHours=s[e].RecordedHours;p.TimeSheetDataFields_RecordedQuantity=s[e].RecordedHours;if(s[e].WBSElemt){w=s[e].WBSElemt.split("-");p.TimeSheetDataFields_WBSElement=w[0];p.TimeSheetDataFields_ActivityType=w[1]}p.TimeSheetDataFields_TimeSheetTaskType=s[e].TaskType;p.TimeSheetDataFields_ReceiverPubSecFuncnlArea="YB40";p.TimeSheetDataFields_HoursUnitOfMeasure="H";if(s[e].TaskType){p.TimeSheetDataFields_TimeSheetTaskComponent="WORK";p.TimeSheetDataFields_TimeSheetTaskLevel="NONE"}else{p.TimeSheetDataFields_TimeSheetTaskComponent="";p.TimeSheetDataFields_TimeSheetTaskLevel=""}i[e]=p;let a=await t._postEntries(B,i[e],e,M)}}le.setData(_);t.getView().setModel(le,"CreateMessageData");le.refresh(true);t._logmessage()}else{var f=new T({message:"Fill all the details- Employee External Id,Person Worker Agreement ID,Company Code,Task Type/WBS Element, Recorded Hours",type:L.Error,target:"/Dummy",processor:this.getView().getModel()});r.setIcon("sap-icon://error");r.setType("Reject");sap.ui.getCore().getMessageManager().addMessages(f);U.close()}},downloadButton:function(){var e,t,a,s,i;if(!this._oTable){this._oTable=this.byId("iddialogmessageboxTable")}i=this._oTable;t=i.getBinding("items");e=this._createColumnConfig();a={workbook:{columns:e,hierarchyLevel:"Level"},dataSource:t,fileName:"Timesheet Entry logs.xlsx"};s=new f(a);s.build().finally(function(){s.destroy()})},_createColumnConfig:function(){var e=[];e.push({label:"Status",type:oe.String,property:"Status"});e.push({label:"Recorded Hours",property:"TimeSheetDate",type:oe.String});e.push({label:"Task Id",property:"Taskid",type:oe.String});e.push({label:"WBS Element",property:"Wbselement",type:oe.String});e.push({label:"Recorded Hours",property:"RecordedHours",type:oe.Number,scale:5});e.push({label:"Message",property:"Message",type:oe.String});return e},onMessagePopoverPress:function(e){var t=e.getSource();this._getMessagePopover().then(function(e){e.openBy(t)})},_getMessagePopover:function(){var e=this.getView();if(!this._pMessagePopover){this._pMessagePopover=w.load({id:e.getId(),name:"timesheetentry.view.MessageManager"}).then(function(t){e.addDependent(t);return t})}return this._pMessagePopover},onupdatesubmit:async function(){G=new sap.m.BusyDialog({title:"Processing Submission of Records",text:"Please wait....."});G.open();var e=this.getOwnerComponent().getModel();e.setUseBatch(true);var t=[];var a=this;var s=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var i=this.getView().byId("id_employee_extid");var r=this.getView().byId("id_wrkid_add");var n=this.getView().byId("daysTable");var o=n.getSelectedItems();if(o){for(var l=0;l<o.length;l++){var d={};var g=o[l].getCells();d.PersonWorkAgreementExternalID=i.getText();d.PersonWorkAgreement=X;var m=new Date(g[0].getValue());var u=s.format(m);d.TimeSheetDate=u+"T00:00:00";d.TimeSheetRecord=g[9].getText();d.CompanyCode=g[15].getText();d.TimeSheetOperation="U";d.TimeSheetStatus="30";d.TimeSheetIsReleasedOnSave=true;d.TimeSheetIsExecutedInTestRun=false;d.TimeSheetDataFields_TimeSheetTaskType=g[12].getText();d.TimeSheetDataFields_TimeSheetTaskComponent=g[10].getText();d.TimeSheetDataFields_TimeSheetTaskLevel=g[13].getText();d.TimeSheetDataFields_ReceiverCostCenter=g[11].getText();d.TimeSheetDataFields_RecordedHours=g[5].getText();d.TimeSheetDataFields_RecordedQuantity=g[5].getText();d.TimeSheetDataFields_ControllingArea=g[14].getText();d.TimeSheetDataFields_WBSElement=g[16].getText();d.TimeSheetDataFields_HoursUnitOfMeasure="H";t[l]=d;let r=await a._deleteallrecords(e,t[l])}a._logmessageError()}},templateChange:async function(e){var t=e.getSource(),a=t.getSelectedKey(),s=[],i=this,r=this.byId("id_add_employee_extid").getText(),n=this.getOwnerComponent().getModel("TimesheetPreviousService"),o=this.getOwnerComponent().getModel("SavetemplateService"),l=new sap.ui.model.Filter("PersonWorkAgreementExternalID","EQ",r);s.push(l);if(a=="1"){Y=new sap.m.BusyDialog({title:"loading Previous Timecard",text:"Please wait....."});Y.open();var d=new Date((new Date).getTime()-6048e5);i._getdates(d);if(ge&&me){var g=ge+"T00:00:00Z";var m=me+"T23:59:59Z";var u=new sap.ui.model.Filter("TimeSheetDate","BT",g,m);s.push(u)}let e=await i._getpreviousdata(n,s);if(e.length>0){var h=new Date;k=new sap.ui.model.json.JSONModel;i._getdates(h);let t=i._getDateRange(ge,me);if(t){console.log(t);b=[];for(S=0;S<e.length;S++){console.log(new Date(e[S].TimeSheetDate));let a=t.filter(function(t){return t.Day===new Date(e[S].TimeSheetDate).getDay()});console.log(a[0].Date);var c={};c.Id=S;c.TimesheetDate=a[0].Date;c.TaskType=e[S].TimeSheetTaskType;c.WBSElemt="";c.RecordedHours=e[S].RecordedHours;c.RecordedQuantity=e[S].RecordedHours;b.push(c)}b.sort(function(e,t){var a=new Date(e.TimesheetDate);var s=new Date(t.TimesheetDate);return a-s});k.setData(b);i.getView().setModel(k,"Entries");k.refresh(true);Y.close();this.getView().byId("id_add_entrysave").setEnabled(true);this.getView().byId("id_add_entry_submit").setEnabled(true);this.getView().byId("id_add_entrytemplate").setEnabled(false)}}}else if(a=="2"){Z=new sap.m.BusyDialog({title:"Loading Data",text:"Please wait....."});Z.open();var p=this.getView().byId("id_employee_extid").getText(),T=this.getView();let e=await i._getTemplates(o,p);if(e){de.setData(e);de.refresh();i.getView().setModel(de,"AllTemplates");if(!this._pValueHelpDialog){this._pValueHelpDialog=w.load({id:T.getId(),name:"timesheetentry.view.GetTemplates",controller:this}).then(function(e){T.addDependent(e);return e})}this._pValueHelpDialog.then(function(e){Z.close();e.open()})}else{de.setData(e);de.refresh();i.getView().setModel(de,"AllTemplates");if(!this._pValueHelpDialog){this._pValueHelpDialog=w.load({id:T.getId(),name:"timesheetentry.view.GetTemplates",controller:this}).then(function(e){T.addDependent(e);return e})}this._pValueHelpDialog.then(function(e){Z.close();e.open()})}}else{var i=this;k=new sap.ui.model.json.JSONModel;b=[];for(S=0;S<=4;S++){var c={};c.Id=S;c.TimesheetDate="";c.TaskType="";c.WBSElemt="";c.RecordedHours="0";c.RecordedQuantity="0";b.push(c)}k.setData(b);i.getView().setModel(k,"Entries");k.refresh(true);this.getView().byId("id_add_entrysave").setEnabled(false);this.getView().byId("id_add_entry_submit").setEnabled(false)}},_getpreviousdata:async function(e,t){return new Promise((a,s)=>{e.read("/MyTimesheetPreviousDetails",{filters:t,urlParameters:{$top:999999},success:function(e){console.log(e.results);a(e.results)}.bind(this),error:function(e){console.log(e)}.bind(this)})})},_getdates:function(e){var t=new Date(e);var a=t.getDay();var s,i;var r=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});if(a===6){s=t;i=new Date(new Date(t).getTime()+5184e5);ge=r.format(s);me=r.format(i)}else if(a===5){s=new Date(new Date(t).getTime()-5184e5);i=t;ge=r.format(s);me=r.format(i)}else if(a===4){s=new Date(new Date(t).getTime()-432e6);i=new Date(new Date(t).getTime()+864e5);ge=r.format(s);me=r.format(i)}else if(a===3){s=new Date(new Date(t).getTime()-3456e5);i=new Date(new Date(t).getTime()+1728e5);ge=r.format(s);me=r.format(i)}else if(a===2){s=new Date(new Date(t).getTime()-2592e5);i=new Date(new Date(t).getTime()+2592e5);ge=r.format(s);me=r.format(i)}else if(a===1){s=new Date(new Date(t).getTime()-1728e5);i=new Date(new Date(t).getTime()+3456e5);ge=r.format(s);me=r.format(i)}else if(a===0){s=new Date(new Date(t).getTime()-864e5);i=new Date(new Date(t).getTime()+432e6);ge=r.format(s);me=r.format(i)}},_getDateRange:function(e,t){var a=0,s=[],i;var r={};r.Date=new Date(e);r.Day=new Date(e).getDay();s.push(r);do{let t={};if(a==0){i=new Date(new Date(e).getTime()+864e5)}else{i=new Date(i.getTime()+864e5)}t.Date=i;t.Day=i.getDay();s.push(t);a++}while(a<5);var r={};r.Date=new Date(t);r.Day=new Date(t).getDay();s.push(r);return s},ontemplateDialog:async function(){var e=this.byId("id_dialogtemplateentries");if(!e){e=new sap.ui.xmlfragment(this.getView().getId(),"timesheetentry.view.SaveTemplate",this);this.getView().addDependent(e);e.open()}else{e.open()}},_saveTemplate:function(e,t){return new Promise((a,s)=>{e.create("/SaveTemplate",{entries:t},{success:function(e,t){if(t.statusCode=="200"){a(t)}else{a(t)}}.bind(this),error:function(e){var t=JSON.parse(e.responseText);s(t)}.bind(this)})})},_getTemplates:function(e,t){return new Promise((a,s)=>{e.callFunction("/GetTemplates",{method:"GET",urlParameters:{EmployeeExternalId:t},success:function(e){var t=e.results;console.log(t);if(t.length>0){a(t)}else{a(t)}},error:function(e){s(e)}})})},ongettemplateSearch:function(e){var t=e.getParameter("value");var a=new l("TemplateDescription",p.Contains,t);var s=e.getParameter("itemsBinding");s.filter([a])},ongettemplateClose:async function(e){var t=this.getOwnerComponent().getModel("SavetemplateService"),a=this,s=new Date,i=e.getParameter("selectedItem");var r=new sap.m.BusyDialog({title:"Loading Data",text:"Please wait....."});r.open();if(i){var n=i.getDescription();var o=await a._getTemplate(t,n);if(o.length>0){k=new sap.ui.model.json.JSONModel;a._getdates(s);let e=a._getDateRange(ge,me);b=[];for(S=0;S<o.length;S++){console.log(new Date(o[S].Date));let t=e.filter(function(e){return e.Day===o[S].Day});console.log(t[0].Date);var l={};l.Id=S;l.TimesheetDate=t[0].Date;l.TaskType=o[S].TaskType;l.WBSElemt=o[S].WBSElement;l.RecordedHours=o[S].RecordedHours;l.RecordedQuantity=o[S].RecordedHours;b.push(l)}b.sort(function(e,t){var a=new Date(e.TimesheetDate);var s=new Date(t.TimesheetDate);return a-s});k.setData(b);a.getView().setModel(k,"Entries");k.refresh(true);this.getView().byId("id_add_entrysave").setEnabled(true);this.getView().byId("id_add_entry_submit").setEnabled(true);this.getView().byId("id_add_entrytemplate").setEnabled(false);r.close()}else{r.close()}}else{r.close()}},_getTemplate:function(e,t){return new Promise((a,s)=>{e.callFunction("/GetTemplate",{method:"GET",urlParameters:{TemplateId:t},success:function(e){var t=e.results;console.log(t);if(t.length>0){a(t)}else{a(t)}},error:function(e){s(e)}})})},ontemplatesaveDialog:async function(){var e;e=this;var t=e.getView();O=this.getOwnerComponent().getModel("SavetemplateService");U=new sap.m.BusyDialog({title:"Saving Template",text:"Please wait....."});U.open();var a=[];var s=[];var i=this.byId("id_alert");var r=sap.ui.getCore().getMessageManager();t.setModel(r.getMessageModel(),"message");sap.ui.getCore().getMessageManager().removeAllMessages();var n=this.byId("id_add_employee_extid");var o=this.getView().byId("id_templateid_save");var l=this.getView().byId("id_templatedesc_save");var d=this.getView().byId("tableId1");var g=d.getBinding("items");a=g.oList;var m=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var u=this._entriesValidations(a);if(u===false){for(let e=0;e<a.length;e++){if((a[e].TimesheetDate==null||a[e].TimesheetDate=="")&&(a[e].RecordedHours==null||a[e].RecordedHours==""||a[e].RecordedHours=="0")&&(a[e].TaskType==null&&a[e].WBSElemt==null||a[e].TaskType==""&&a[e].WBSElemt=="")){continue}else{var h={};h.EmployeeExternalId=n.getText();h.TemplateId=o.getValue();h.TemplateDescription=l.getValue();var c=m.format(a[e].TimesheetDate);h.Date=c;h.RecordedHours=a[e].RecordedHours;h.WBSElement=a[e].WBSElemt;h.TaskType=a[e].TaskType;h.Day=new Date(c).getDay();s.push(h)}}let t=await e._saveTemplate(O,s);if(t){e._logmessageTemplate(t)}}else{var p=new T({message:"Fill all the details- Employee External Id,Person Worker Agreement ID,Company Code,Task Type/WBS Element, Recorded Hours",type:L.Error,target:"/Dummy",processor:this.getView().getModel()});i.setIcon("sap-icon://error");i.setType("Reject");sap.ui.getCore().getMessageManager().addMessages(p);U.close()}},onCloseDialogtemplate:function(){this.getView().byId("id_dialogtemplateentries").close();this.getView().byId("id_templateid_save").setValue("");this.getView().byId("id_templatedesc_save").setValue("")},_logmessageTemplate:function(e){var t=this;var a,s;var o=this.getView().byId("id_templateid_save");var l=o.getValue();if(e.statusCode=="200"){a="Template-"+" "+l+" "+"Saved Successfully";s=ne.Information}else{a="Template-"+" "+l+" "+"failed to save";s=ne.Error}this.oLogMessageTemplateDialog=new i({type:Q.Message,title:"Information",state:s,content:new n({text:a}),beginButton:new r({type:K.Emphasized,text:"Ok",press:function(){this.oLogMessageTemplateDialog.close();b=[];M=0;k.setData(b);t.getView().setModel(k,"Entries");k.refresh(true);sap.ui.getCore().getMessageManager().removeAllMessages();this.getView().byId("id_dialogaddentries").close();this.getView().byId("id_add_entrysave").setEnabled(false);this.getView().byId("id_add_entry_submit").setEnabled(false);this.getView().byId("id_add_entrytemplate").setEnabled(false);this.getView().byId("id_templatecombo").setSelectedKey("");this.getView().byId("id_dialogtemplateentries").close();this.getView().byId("id_templateid_save").setValue("");this.getView().byId("id_templatedesc_save").setValue("");U.close()}.bind(this)})});this.oLogMessageTemplateDialog.open()}})});
},
	"timesheetentry/i18n/i18n.properties":'# This is the resource bundle for timesheetentry\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Timesheet Entry Application\n\n#YDES: Application description\nappDescription=Timesheet Entry Application\n#XTIT: Main view title\ntitle=Timesheet Entry Application\nemployeeId=Employee Id\nworkerId=Employee Agreement Id\ncompanyCode=Company Code\ncostCenter=Cost Center\ndateRange=Start-End Date\naddRow=Add Row\ndate=Date\ntaskType=Task type\nwbsElement=Wbs Element\nrecordedHours=Recorded Hours\ndialogtemplateButtonText=Save as Template\ndialogsaveButtonText=Save Entries\ndialogsubmitButtonText=Submit Entries\ndialogCancelButtonText=Cancel\naddEntries=Add Entries\ndelete=Delete Entries\ndetailsscreen=Employee Details\nscreentitle=Enter Date-Range\nsearch=Go\naddentry=Record Timesheet Entries\nStatus=Status\nDate=Recorded Date\nTask=Task ID\nWbs=WBS Element\nhours=Recorded Hours\nMessage=Sucess/Error Message\ndialogCloseButtonText=Close\nmessagesubmit=Timesheet Entry Logs\ntemplates=Templates\ndialogtemplatesaveButtonText=Save Template\n\n\n\n#XFLD,81\nflpTitle=Timesheet Entry Application\n',
	"timesheetentry/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"timesheetentry","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.16.3","toolsId":"0e9d8a11-8e42-4666-bbd7-8434699b97ef"},"dataSources":{"mainService":{"uri":"odata/v2/TimesheetDetailsService/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"TaskTypeService":{"uri":"odata/v2/TaskTypeService","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"EmployeeService":{"uri":"odata/v2/EmployeeService","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"TimesheetService":{"uri":"odata/v2/TimesheetService","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"WbsElementService":{"uri":"odata/v2/WbsElementService","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"TimesheetDeleteService":{"uri":"odata/v2/TimesheetDeleteService","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"TimesheetPreviousService":{"uri":"odata/v2/TimesheetPreviousService","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"SavetemplateService":{"uri":"odata/v2/SavetemplateService/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"ConfigurationJSON":{"uri":"model/configFile.json","type":"JSON"},"TemplateJSONData":{"uri":"model/Template.json","type":"JSON"}},"crossNavigation":{"inbounds":{"timesheetentry-manage":{"semanticObject":"timesheetentry","action":"manage","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"timesheetentry-display":{"semanticObject":"timesheetentry","action":"display","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.132.1","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"timesheetentry.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"TaskTypeService":{"dataSource":"TaskTypeService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"EmployeeService":{"dataSource":"EmployeeService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"TimesheetService":{"dataSource":"TimesheetService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true,"useBatch":false}},"WbsElementService":{"dataSource":"WbsElementService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"TimesheetDeleteService":{"dataSource":"TimesheetDeleteService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true,"useBatch":false}},"TimesheetPreviousService":{"dataSource":"TimesheetPreviousService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true,"useBatch":false}},"SavetemplateService":{"dataSource":"SavetemplateService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"configurationModel":{"type":"sap.ui.model.json.JSONModel","dataSource":"ConfigurationJSON"},"TemplateJSONData":{"dataSource":"TemplateJSONData","type":"sap.ui.model.json.JSONModel"}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"timesheetentry.view"},"routes":[{"name":"Routetimesheet_view","pattern":":?query:","target":["Targettimesheet_view"]}],"targets":{"Targettimesheet_view":{"id":"timesheet_view","name":"timesheet_view"}}},"rootView":{"viewName":"timesheetentry.view.App","type":"XML","id":"App"}},"sap.cloud":{"public":true,"service":"timesheetentry"}}',
	"timesheetentry/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"timesheetentry/view/AddTimesheetEntries.fragment.xml":'<core:FragmentDefinition xmlns:odata="sap.ui.comp.odata" xmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"><Dialog id="id_dialogaddentries" title="{i18n>addentry}"><content><VBox id="id_add_vbox" class="sapUiSmallMargin"><f:SimpleForm id="id_add_entries_simpleform" editable="true" layout="ResponsiveGridLayout" title="Selection Screen" labelSpanXL="4" \n                        labelSpanM="4" labelSpanL="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="4" emptySpanM="0"\n                        emptySpanS="0" columnsXL="3" columnsL="1" columnsM="1" singleContainerFullSize="false" ><f:content><Label id="id_add_ccode_label" text="Company Code" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><ComboBox id="id_add_ccode" \n\t\t\t\t\t\t  placeholder="Search By Company Code"\n\t\t\t\t\t\t  showSecondaryValues="true"\n\t\t\t\t\t\t  filterSecondaryValues= "true"\n\t\t\t\t\t\t  change="CompanyaddChange"\n\t\t\t\t\t\t  width="100%"\n\t\t\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\t\t\tpath: \'CompanyCodes>/\',\n\t\t\t\t\t\t\t\t\t\tsorter: { path: \'CompanyCode\' },\n\t\t\t\t\t\t\t\t\t\tlength:999999\n\t\t\t\t\t\t\t\t\t}" ><core:ListItem id="id_addcompcodevh" key="{CompanyCodes>CompanyCode}" text="{CompanyCodes>CompanyCodeName}" additionalText="{CompanyCodes>CompanyCode}"/><layoutData><FlexItemData id="id_additemdata6" growFactor="1" /></layoutData></ComboBox><Label id="id_add_employee_label" text="Employee Id" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Text id="id_add_employee_extid" /><Label id="id_add_wrkid_label" text="Employee workagreement Id" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Text id="id_add_wrkid"/><ToolbarSpacer id="id_toolsbar_add_entry" ></ToolbarSpacer><Label id="id_add_daterangelabel" text="Start Date &amp; End Date" design="Bold" width="100%" required="true" textAlign="Right" textDirection="Inherit"/><DateRangeSelection id="id_add_daterange" showCurrentDateButton="true"\n\t\t\t            change="handleDateChangeadd_entries"\n                        value= "{\n\t\t\t\t                    \'type\': \'sap.ui.model.type.DateInterval\',\n\t\t\t\t                    \'formatOptions\': {\n\t\t\t\t\t                \t\t\t\'pattern\': \'yyyy-MM-dd\'\n\t\t\t\t                \t},\n\t\t\t\t                    \'parts\': [\n\t\t\t\t\t                            {\n\t\t\t\t\t\t                            \'type\': \'sap.ui.model.type.Date\',\n\t\t\t\t\t\t                            \'path\': \'DateModel1>/start\'\n\t\t\t\t\t                            },\n\t\t\t\t\t                            {\n\t\t\t\t\t\t                            \'type\': \'sap.ui.model.type.Date\',\n\t\t\t\t\t\t                            \'path\': \'DateModel1>/end\'\n\t\t\t\t\t                            }\n\t\t\t\t                            ]\n\t\t\t                    }" /></f:content></f:SimpleForm></VBox><VBox class="sapUiSmallMargin" id="tableContainer1"><Table id="tableId1" width="auto" mode="Delete" delete="deleteRow" inset="false" enableBusyIndicator="true"\n\t\t\t\tsticky="ColumnHeaders,HeaderToolbar"\n\t\t\t\tgrowing="true"\n\t\t\t\talternateRowColors="true"\n\t\t\t\tshowNoData="true"\n\t\t\t\titems="{\n\t\t\t\t\t\tpath: \'Entries>/\'\n\t\t\t\t\t}"><headerToolbar><Toolbar id="id_tabletoolbar1"><Title id="id_title" text="" level="H2"/><ToolbarSpacer id="id_toolbar1"/><ComboBox id="id_templatecombo"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSecondaryValues="false"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilterSecondaryValues= "true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange="templateChange"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey="{Card}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="Select Template"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth="25%"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: \'Template>/Template\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplateShareable:false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsorter: { path: \'Card\' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength:999999\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}"\n\t\t\t\t\t\t\t\t\t\t\t\t><core:ListItem id="id_templateitem" key="{Template>Card}" text="{Template>Description}" additionalText="{Template>Card}"/><layoutData><FlexItemData id="id_templatecombo2" growFactor="1" /></layoutData></ComboBox><Button id="id_add_button" text="{i18n>addRow}" icon="sap-icon://add" type="Emphasized" press="onAddEntry"/></Toolbar></headerToolbar><columns><Column id="id_column1" visible="false"><Text id="id_srno" text="S.No"/></Column><Column id="id_column2"><Text id="id_date" text="{i18n>date}"/></Column><Column id="id_column3"><Text id="id_tasktype" text="{i18n>taskType}"/></Column><Column id="id_column4"><Text id="id_wbs_elmt" text="{i18n>wbsElement}"/></Column><Column id="id_column5"><Text id="id_recordedhrs" text="{i18n>recordedHours}"/></Column><Column id="id_column6" visible="false"><Text id="id_recorded_qnty" text="Recorded Quantity"/></Column></columns><items><ColumnListItem id="id_uploadcolumnlist1" vAlign="Middle" ><cells><Input id="_IDsno"                \t   value="{Entries>Id}" /><DatePicker change="adddatechange" id="_IDGenInput" value= "{\n                                                                                path: \'Entries>TimesheetDate\',\n                                                                                type: \'sap.ui.model.type.DateTime\',\n                                                                                formatOptions: {\n                                                                                                    \'pattern\': \'MM/dd/yyyy\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'strictParsing\': true,\n                                                                                                    \'UTC\': true\n                                                                                                }\n\t\t\t\t\t\t\t\t                                            }"\n\n\n\t\t\t\t\t\t\t        /><ComboBox id="id_taskcombo"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSecondaryValues="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilterSecondaryValues= "true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange="taskChange"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey="{Entries>TaskType}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: \'Tasks>/MyTasks\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplateShareable:false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsorter: { path: \'TimeSheetTaskType\' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength:999999\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable="{= ${Entries>WBSElemt} === \'\' ? true : false }"\n\t\t\t\t\t\t\t\t\t\t\t\t><core:ListItem id="id_taskitem" key="{Tasks>TimeSheetTaskType}" text="{Tasks>TimeSheetTaskType}" additionalText="{Tasks>TimeSheetTaskTypeText}"/><layoutData><FlexItemData id="id_taskcombo2" growFactor="1" /></layoutData></ComboBox><Input id="id_wbs_add_all"  \t\t   value="{Entries>WBSElemt}" change="wbsChange" showValueHelp="true"  valueHelpRequest=".onAddWbsVH" editable="{= ${Entries>TaskType} === \'\' ? true : false }"/><Input id="id_hours_add"  \t\t       value="{Entries>RecordedHours}" /><Input id="id_quant_add"  \t\t       value="{Entries>RecordedQuantity}" /></cells></ColumnListItem></items></Table></VBox></content><footer><Toolbar id="id_createtoolbar"><content><Button id="id_alert"\n                        icon="sap-icon://alert"\n                        text="{= ${message>/}.length }"\n                        visible="{= ${message>/}.length > 0 }"\n                        type="Emphasized"\n                        press="onMessagePopoverPress" /><ToolbarSpacer id="id_toolbar1123"/><Button id="id_add_entrytemplate" icon="sap-icon://save" type="Emphasized" text="{i18n>dialogtemplateButtonText}" press="ontemplateDialog" enabled="false"/><Button id="id_add_entrysave" icon="sap-icon://accept" type="Emphasized" text="{i18n>dialogsaveButtonText}" press="onsaveDialog" enabled="false"/><Button id="id_add_entry_submit" icon="sap-icon://create-entry-time" type="Success" text="{i18n>dialogsubmitButtonText}" press="onsubmitDialog" enabled="false"/><Button id="id_add_entry_close" icon="sap-icon://sys-cancel" type="Reject" text="{i18n>dialogCancelButtonText}" press="onCloseDialog"/></content></Toolbar></footer></Dialog></core:FragmentDefinition>',
	"timesheetentry/view/App.view.xml":'<mvc:View controllerName="timesheetentry.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"timesheetentry/view/GetTemplates.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><SelectDialog\n\t\tid="selecttemplateDialog"\n\t\ttitle="{i18n>templates}"\n\t\titems="{AllTemplates>/}"\n\t\tsearch=".ongettemplateSearch"\n\t\tconfirm=".ongettemplateClose"\n\t\tcancel=".ongettemplateClose"\n\t\t><StandardListItem id="id_standard"\n\t\t\ttitle="{AllTemplates>TemplateDescription}"\n\t\t\tdescription="{AllTemplates>TemplateId}" /></SelectDialog></core:FragmentDefinition>',
	"timesheetentry/view/MessageBox.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"\n    xmlns:u="sap.ui.unified"\n\txmlns:core="sap.ui.core"><Dialog id="dialogmessageboxcreate" title="{i18n>messagesubmit}" ><content><VBox class="sapUiSmallMargin" id="formuploadContainer1"><Table id="iddialogmessageboxTable"\n\t\t\t\tinset="false"\n\t\t\t\tmode="None"\n\t\t\t\tenableBusyIndicator="true"\n\t\t\t\tsticky="ColumnHeaders,HeaderToolbar"\n\t\t\t\tgrowing="true"\n\t\t\t\talternateRowColors="true"\n\t\t\t\tshowNoData="true"\n\t\t\t\titems="{\n\t\t\t\t\t\tpath: \'CreateMessageData>/\'\n\t\t\t\t\t}"\n\t\t\t\twidth="auto"\n\t\t\t><headerToolbar><OverflowToolbar id="id_messageoverflow1"><Title id="id_messageboxtitle" level="H2"/><ToolbarSpacer id="id_messagetoolbar1"/><Button id="id_messagedownload" icon="sap-icon://excel-attachment" text="Download Logs" press=".downloadButton" tooltip="Download Logs"/></OverflowToolbar></headerToolbar><columns><Column id="id_messageboxcolumn7" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxextbutton" text="{i18n>Status}" /></Column><Column id="id_messageboxcolumn1" visible="false" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxextid" text="{i18n>Status}" /></Column><Column id="id_messageboxcolumn2" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxdate" text="{i18n>Date}" /></Column><Column id="id_uploadcolumn3" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxtaskid" text="{i18n>Task}" /></Column><Column id="id_uploadcolumn9" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxWbsid"  text="{i18n>Wbs}" /></Column><Column id="id_uploadcolumn5" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxhours" text="{i18n>hours}" /></Column><Column id="id_uploadcolumn10" minScreenWidth="Tablet" demandPopin="true" width="auto" ><Text id="id_messageboxmessage" text="{i18n>Message}" /></Column></columns><items><ColumnListItem id="id_messageboxcolumnlist" vAlign="Middle" ><cells><Button id="id_messageboxstatusbtn"     icon="{= ${CreateMessageData>Status} === \'S\' ? \'sap-icon://accept\' : \'sap-icon://error\' }" type="{= ${CreateMessageData>Status} === \'S\' ? \'Success\' : \'Reject\' }" /><Text id="id_messageboxstatusrow" \t    text="{CreateMessageData>Status}" /><Text id="id_messageboxcell2" text="{CreateMessageData>TimeSheetDate}" /><Text id="id_messagebox_task"  \t\t    text="{CreateMessageData>Taskid}" /><Text id="id_messagebox_wbs"  \t\t    text="{CreateMessageData>Wbselement}" /><Text id="id_messagebox_hours"  \t\ttext="{CreateMessageData>RecordedHours}" /><Text id="id_messagebox_message"  \t\ttext="{CreateMessageData>Message}" /></cells></ColumnListItem></items></Table></VBox></content><footer><Toolbar id="id_uploadtoolbar"><content><ToolbarSpacer id="id_messageboxtoolbar1123"/><Button id="id_messageboxclose" type="Reject" text="{i18n>dialogCloseButtonText}" press="onmessageboxCloseDialog"/></content></Toolbar></footer></Dialog></core:FragmentDefinition>',
	"timesheetentry/view/MessageManager.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><MessagePopover id="id_msgpopover"\n        items="{message>/}"\n        initiallyExpanded="true"><MessageItem id="id_msgitem"\n            type="{message>type}"\n            title="{message>message}"\n            subtitle="{message>additionalText}"\n            description="{message>description}"/></MessagePopover></core:FragmentDefinition>',
	"timesheetentry/view/SaveTemplate.fragment.xml":'<core:FragmentDefinition xmlns:odata="sap.ui.comp.odata" xmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"><Dialog id="id_dialogtemplateentries" title="{i18n>addentry}"><content><VBox id="id_template_vbox" class="sapUiSmallMargin"><Label id="id_templateid_label" text="Template Id" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Input id="id_templateid_save" /><Label id="id_templatedesc_label" text="Template Description" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Input id="id_templatedesc_save"/></VBox></content><footer><Toolbar id="id_templatetoolbar"><content><Button id="id_template_submit" icon="sap-icon://save" type="Emphasized" text="{i18n>dialogtemplatesaveButtonText}" press="ontemplatesaveDialog" /><Button id="id_template_close" icon="sap-icon://sys-cancel" type="Reject" text="{i18n>dialogCancelButtonText}" press="onCloseDialogtemplate"/></content></Toolbar></footer></Dialog></core:FragmentDefinition>',
	"timesheetentry/view/WbsVH.fragment.xml":'<core:FragmentDefinition xmlns="sap.ui.comp.valuehelpdialog" xmlns:m="sap.m" xmlns:core="sap.ui.core" xmlns:fb="sap.ui.comp.filterbar"><ValueHelpDialog \n\t        id="idwbsvaluehelp"\n\t\t\ttitle="WBS Element Value Help"\n\t\t\tok=".onValueHelpWbsVHOkPress"\n\t\t\tcancel=".onValueHelpWbsVHCancelPress"\n\t\t\tafterClose=".onValueHelpWbsVHAfterClose"\n\t\t\tsupportRanges="true"\n\t\t\tkey="EngagementProject"\n\t\t\tsupportMultiselect="false"><filterBar><fb:FilterBar id="id_filterbarWbs1" advancedMode="true" search=".onFilterBarWithSuggestionsWbsVHSearch" isRunningInValueHelpDialog="true"><fb:filterGroupItems><fb:FilterGroupItem id="id_filterbargrpwbs1"\n\t\t\t\t\t\t\tgroupName="__$INTERNAL$"\n\t\t\t\t\t\t\tname="EngagementProjectName"\n\t\t\t\t\t\t\tlabel="Project Engagement Name"\n\t\t\t\t\t\t\tvisibleInFilterBar="true"><fb:control><m:Input id="id_inputwbsid" name="EngagementProjectName"\n\t\t\t\t\t\t\t\t\t showSuggestion="true"\n\t\t\t\t\t\t\t\t\t showValueHelp="false"\n\t\t\t\t\t\t\t\t\t suggestionItems="{\n\t\t\t\t\t\t\t\t\t\tpath: \'ResourceWbs>/\',\n\t\t\t\t\t\t\t\t\t\tsorter: { path: \'EngagementProjectName\' }\n\t\t\t\t\t\t\t\t\t}"><core:Item id="id_wbsid1" key="{ResourceWbs>EngagementProjectName}" text="{ResourceWbs>EngagementProjectName}" /></m:Input></fb:control></fb:FilterGroupItem><fb:FilterGroupItem id="id_filterbarwbsgrp2"\n\t\t\t\t\t\t\tgroupName="__$INTERNAL$"\n\t\t\t\t\t\t\tname="WorkPackageName"\n\t\t\t\t\t\t\tlabel="Work Package Name"\n\t\t\t\t\t\t\tvisibleInFilterBar="true"><fb:control><m:Input id="id_inputwbsvh" name="WorkPackageName"\n\t\t\t\t\t\t\t\t\t showSuggestion="true"\n\t\t\t\t\t\t\t\t\t showValueHelp="false"\n\t\t\t\t\t\t\t\t\t suggestionItems="{\n\t\t\t\t\t\t\t\t\t\tpath: \'ResourceWbs>/\',\n\t\t\t\t\t\t\t\t\t\tsorter: { path: \'WorkPackageName\' }\n\t\t\t\t\t\t\t\t\t}"><core:Item id="id_wbsitemvh" key="{ResourceWbs>WorkPackageName}" text="{ResourceWbs>WorkPackageName}" /></m:Input></fb:control></fb:FilterGroupItem><fb:FilterGroupItem id="id_filterbargrp3wbs"\n\t\t\t\t\t\t\tgroupName="__$INTERNAL$"\n\t\t\t\t\t\t\tname="WBSElementInternalID"\n\t\t\t\t\t\t\tlabel="WBS Element Internal Id"\n\t\t\t\t\t\t\tvisibleInFilterBar="true"><fb:control><m:Input id="id_inputwbs1" name="WBSElementInternalID"\n\t\t\t\t\t\t\t\t\t showSuggestion="true"\n\t\t\t\t\t\t\t\t\t showValueHelp="false"\n\t\t\t\t\t\t\t\t\t suggestionItems="{\n\t\t\t\t\t\t\t\t\t\tpath: \'ResourceWbs>/\',\n\t\t\t\t\t\t\t\t\t\tsorter: { path: \'WBSElementInternalID\' }\n\t\t\t\t\t\t\t\t\t}"><core:Item id="id_inputwbs2" key="{ResourceWbs>WBSElementInternalID}" text="{ResourceWbs>WBSElementInternalID}" /></m:Input></fb:control></fb:FilterGroupItem></fb:filterGroupItems></fb:FilterBar></filterBar></ValueHelpDialog></core:FragmentDefinition>',
	"timesheetentry/view/timesheet_view.view.xml":'<mvc:View controllerName="timesheetentry.controller.timesheet_view"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m" xmlns:f="sap.ui.layout.form"\n    xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout"><Page showFooter="true" id="page" title="{i18n>title}"><content><VBox id="id_vbox" class="sapUiSmallMargin"><f:SimpleForm id="id_simpleform" editable="true" layout="ResponsiveGridLayout" title="{i18n>detailsscreen}" labelSpanXL="4" \n                        labelSpanM="4" labelSpanL="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="4" emptySpanM="0"\n                        emptySpanS="0" columnsXL="4" columnsL="1" columnsM="1" singleContainerFullSize="false" ><f:content><core:Title id="id_stitle" text="{i18n>screentitle}"></core:Title><Label id="id_employee_label" text="{i18n>employeeId}" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Text id="id_employee_extid" /><Label id="id_wrkid_label_add" text="{i18n>workerId}" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Text id="id_wrkid_add" /><Label id="id_ccenter_label_add"  text="{i18n>costCenter}" design="Bold" width="100%" required="true" textAlign="Begin" textDirection="LTR" /><Text id="id_ccenter_add" /><ToolbarSpacer id="id_toolsbar" ></ToolbarSpacer><Label id="id_daterangelabel" text="{i18n>dateRange}" design="Bold" width="100%" required="true" textAlign="Right" textDirection="Inherit"/><DateRangeSelection id="id_daterange1" showCurrentDateButton="true"\n\t\t\t\t\t\tchange="handleDateChange"\n                        value= "{\n\t\t\t\t                    \'type\': \'sap.ui.model.type.DateInterval\',\n\t\t\t\t                    \'formatOptions\': {\n\t\t\t\t\t                \t\t\t\'pattern\': \'yyyy-MM-dd\'\n\t\t\t\t                \t},\n\t\t\t\t                    \'parts\': [\n\t\t\t\t\t                            {\n\t\t\t\t\t\t                            \'type\': \'sap.ui.model.type.Date\',\n\t\t\t\t\t\t                            \'path\': \'DateModel>/start\'\n\t\t\t\t\t                            },\n\t\t\t\t\t                            {\n\t\t\t\t\t\t                            \'type\': \'sap.ui.model.type.Date\',\n\t\t\t\t\t\t                            \'path\': \'DateModel>/end\'\n\t\t\t\t\t                            }\n\t\t\t\t                            ]\n\t\t\t                    }" /><ToolbarSpacer id="id_toolsbar_slectionscreen" ></ToolbarSpacer><Button id="id_search" text="{i18n>search}" width="50%" type="Default" press=".onFilter" class="sapUiSmallMarginEnd" ><layoutData><FlexItemData id="id_itemdata5" growFactor="1" /></layoutData></Button></f:content></f:SimpleForm></VBox><VBox id="id_vboxtable" class="sapUiSmallMargin"><Table width="auto" noDataText="No data" showSeparators="All" growing="true" growingThreshold="20" growingScrollToLoad="true" updateFinished="onUpdateFinished"\n\t\t\t\t\t\titems="{ path: \'Timesheet>/\', sorter: [{\n                                                                path: \'TimeSheetDate\',\n                                                                descending : false\n                                                        }] }" \n\t\t\t\t\t\tid="daysTable" showUnread="true" showNoData="false" backgroundDesign="Solid"\n\t\t\t\t\t\tselectionChange="onSelectionChange" mode="MultiSelect" sticky="ColumnHeaders,HeaderToolbar"><columns><Column id="idcolumn1" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext1" text="Recorded Date" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn2" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext2" text="Project" width="auto" maxLines="1" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn3" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext3" text="Task type" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn4" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext4" text="Receiver Cost Center" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn5" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext5" text="Sender Cost Center" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn6" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext6" text="Recorded Hours" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn7" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext7" text="Recorded Status" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn8" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext8" text="Created By" width="auto" maxLines="1" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn9" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext9" text="Approved By" width="auto" maxLines="1" wrapping="true" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn13" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext13" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn14" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext14" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn15" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext15" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn16" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext16" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn17" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext17" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn18" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext18" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn19" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext19" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn20" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext20" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn21" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" visible="false" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext21" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column><Column id="idcolumn12" width="auto" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Block" mergeDuplicates="false"><header><Text id="idtext12" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/></header><footer/></Column></columns><items><ColumnListItem id="columnList" highlight="None"><cells><DateTimePicker width="120%" id="id_cell2" value= "{\n                                                                                                        path: \'Timesheet>TimeSheetDate\',\n                                                                                                        type: \'sap.ui.model.type.DateTime\',\n                                                                                                        formatOptions: {\n                                                                                                                            \'pattern\': \'MM/dd/yyyy\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'strictParsing\': true,\n                                                                                                                            \'UTC\': true\n                                                                                                                        }\n\t\t\t\t\t\t\t\t                                                                }"\n                                                                                                editable="false"\n\t\t\t\t\t\t\t        /><Text id="id_cell1" text="{= ${Timesheet>Project_1} !== \'\' ? ${Timesheet>ProjectDescription_1} !== \'\' ? ${Timesheet>Project_1} + \' \' + \'(\' + ${Timesheet>ProjectDescription_1} + \')\' : ${Timesheet>Project_1} : \'\' }"/><Text id="id_cell3" text="{= ${Timesheet>TimeSheetTaskType} !== \'\' ? ${Timesheet>TimeSheetTaskTypeText} !== \'\' ? ${Timesheet>TimeSheetTaskType} + \' \' + \'(\' + ${Timesheet>TimeSheetTaskTypeText} + \')\' : ${Timesheet>TimeSheetTaskType} : \'\'\t}"/><Text id="id_cell4" text="{= ${Timesheet>ReceiverCostCenter} !== \'\' ? ${Timesheet>ReceiverCostCenter} !== \'\' ? ${Timesheet>ReceiverCostCenter} + \' \' + \'(\' + ${Timesheet>ReceiverCostCenterDescription} + \')\' : ${Timesheet>ReceiverCostCenter} : \'\' }"/><Text id="id_cell5" text="{= ${Timesheet>SenderCostCenter} !== \'\' ? ${Timesheet>SenderCostCenterDescription} !== \'\' ? ${Timesheet>SenderCostCenter} + \' \' + \'(\' + ${Timesheet>SenderCostCenterDescription} + \')\' : ${Timesheet>SenderCostCenter} : \'\' }"/><Text id="id_cell6" text="{Timesheet>RecordedHours}"/><ObjectStatus id="id_cell7" text="{= ${Timesheet>TimeSheetStatus} !== \'\' ? ${Timesheet>TimeSheetStatusText} !== \'\' ? ${Timesheet>TimeSheetStatusText} + \' \' + \'(\' + ${Timesheet>TimeSheetStatus} + \')\' : ${Timesheet>TimeSheetStatus} : \'\' }" state="{path: \'Timesheet>TimeSheetStatus\', formatter: \'.formatStatus\'}" /><Text id="id_cell8" text="{= ${Timesheet>CreatedByUser} !== \'\' ? ${Timesheet>CreatedByName} !== \'\' ? ${Timesheet>CreatedByUser} + \' \' + \'(\' + ${Timesheet>CreatedByName} + \')\' : ${Timesheet>CreatedByUser} : \'\' }"/><Text id="id_cell9" text="{= ${Timesheet>TimeSheetApprovedByUser} !== \'\' ? ${Timesheet>ApprovedByName} !== \'\' ? ${Timesheet>TimeSheetApprovedByUser} + \' \' + \'(\' + ${Timesheet>ApprovedByName} + \')\' : ${Timesheet>TimeSheetApprovedByUser} : \'\' }"/><Text id="id_cell13" text="{Timesheet>TimeSheetRecord}"/><Text id="id_cell14" text="{Timesheet>TimeSheetTaskComponent}"/><Text id="id_cell15" text="{Timesheet>ReceiverCostCenter}"/><Text id="id_cell16" text="{Timesheet>TimeSheetTaskType}"/><Text id="id_cell17" text="{Timesheet>TimeSheetTaskLevel}"/><Text id="id_cell18" text="{Timesheet>ControllingArea>}"/><Text id="id_cell19" text="{Timesheet>CompanyCode>}"/><Text id="id_cell20" text="{Timesheet>WBSElementInternalID>}"/><Text id="id_cell21" text="{Timesheet>TimeSheetStatus}"/><Button id="id_cell12" type="Reject" iconFirst="true" width="auto"\n\t\t\t\t\t\t\t\t\ticonDensityAware="false" press="ondeleterow" enabled="{= ${Timesheet>TimeSheetStatus} === \'60\' ? false : true }" icon="sap-icon://delete"/></cells></ColumnListItem></items></Table></VBox></content><footer><Bar id="id_button_footer" design="Auto"><contentRight><Button id="id_button_submit" text="{i18n>dialogsubmitButtonText}" type="Success" iconFirst="true" width="auto" visible="{path: \'/buttonsVisible/cancel\'}"\n\t\t\t\t\t\t\ticonDensityAware="false" press="onupdatesubmit" icon="sap-icon://accept" enabled="false"/><Button id="id_button_add" text="{i18n>addEntries}" type="Accept" iconFirst="true" width="auto" enabled="true" visible="{path: \'/buttonsVisible/edit\'}" activeIcon="sap-icon://edit"\n\t\t\t\t\t\t\tpress="onAdd" icon="sap-icon://add"/><Button id="id_button_cancel" text="{i18n>delete}" type="Reject" iconFirst="true" width="auto" visible="{path: \'/buttonsVisible/cancel\'}"\n\t\t\t\t\t\t\ticonDensityAware="false" press="ondelete" icon="sap-icon://delete" enabled="false"/></contentRight></Bar></footer></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
